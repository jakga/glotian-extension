# ============================================================================
# Glotian Chrome Extension - Environment Configuration
# ============================================================================
#
# Copy this file to .env.local and fill in your actual values.
# DO NOT commit .env.local to version control (already in .gitignore).
#
# Required variables must be set for the extension to work.
# Optional variables have sensible defaults if not provided.
#
# For setup instructions, see: apps/extension/README.md
# ============================================================================

# ----------------------------------------------------------------------------
# Supabase Configuration (REQUIRED)
# ----------------------------------------------------------------------------
# Get these from your Supabase project dashboard:
# https://app.supabase.com/project/_/settings/api
#
# The extension shares the same database schema with mobile and web apps.
# Use the same Supabase project across all platforms.

VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ----------------------------------------------------------------------------
# AI API Keys (SECURITY: DEPRECATED - DO NOT USE)
# ⚠️  CRITICAL SECURITY WARNING
# ============================================================================
#
# VITE_OPENAI_API_KEY and VITE_GEMINI_API_KEY are NO LONGER SUPPORTED.
# These keys must NEVER be embedded in client-side code.
#
# WHY THIS IS CRITICAL:
# - API keys embedded in Vite config become part of the compiled bundle
# - Anyone can extract them from: DevTools, source maps, network traffic
# - Attackers can abuse your API keys for:
#   * Unauthorized API usage (cost overruns: $1000s)
#   * Account compromise
#   * Quota exhaustion
#   * Potential data breaches (API responses may contain sensitive data)
#
# SECURE SOLUTION: Backend Proxy Service
# ==============================================================================
# 1. Create a backend service (e.g., Supabase Edge Function) that:
#    - Authenticates requests using user JWT tokens
#    - Stores OpenAI/Gemini API keys server-side (never expose to clients)
#    - Proxies AI API calls on behalf of users
#    - Logs usage for rate limiting and audit trails
#
# 2. Extension calls your backend endpoint instead:
#    POST /api/proxy/openai/translate
#    Headers: Authorization: Bearer <user-jwt>
#    Body: { text: "...", sourceLang: "en", targetLang: "ko" }
#
# 3. Backend validates JWT, calls OpenAI API, returns response to client
#
# See: SECURITY.md for complete implementation guide

# ----------------------------------------------------------------------------
# Chrome Origin Trial Tokens (OPTIONAL - for Chrome AI features)
# ----------------------------------------------------------------------------
# Chrome Built-in AI APIs require Origin Trial enrollment.
# These tokens enable experimental AI features in Chrome.
#
# How to get tokens:
# 1. Build the extension first: pnpm build
# 2. Note your extension ID from chrome://extensions
# 3. Enroll at: https://developer.chrome.com/origintrials/#/trials/active
# 4. Generate tokens for origin: chrome-extension://YOUR_EXTENSION_ID
# 5. Replace the placeholder tokens below
#
# NOTE: These are OPTIONAL. The extension works without them using fallback APIs.
# However, for best performance (<1.2s translation), Origin Trial tokens are recommended.

VITE_ORIGIN_TRIAL_TOKEN_PROMPT=Axxx...
VITE_ORIGIN_TRIAL_TOKEN_WRITER=Axxx...
VITE_ORIGIN_TRIAL_TOKEN_REWRITER=Axxx...
VITE_ORIGIN_TRIAL_TOKEN_PROOFREADER=Axxx...
VITE_ORIGIN_TRIAL_TOKEN_TRANSLATOR=Axxx...
VITE_ORIGIN_TRIAL_TOKEN_SUMMARIZER=Axxx...

# ----------------------------------------------------------------------------
# App Configuration (OPTIONAL - has sensible defaults)
# ----------------------------------------------------------------------------

# Environment: development | staging | production
# Default: development
VITE_APP_ENV=development

# Default UI language (shown before user login)
# Supported: en | ko
# Default: en
VITE_DEFAULT_UI_LANGUAGE=en

# Default CEFR level for text simplification
# Options: A1 | A2 | B1 | B2 | C1 | C2
# Default: B1 (intermediate)
VITE_DEFAULT_CEFR_LEVEL=B1

# Default source language for translation capture
# ISO 639-1 codes: en, es, zh, fr, de, ja, ko, it, pt, ru, ar, hi
# Default: en
VITE_DEFAULT_SOURCE_LANGUAGE=en

# Default target language for translation capture
# ISO 639-1 codes: (same as above)
# Default: ko
VITE_DEFAULT_TARGET_LANGUAGE=ko

# ----------------------------------------------------------------------------
# Error Monitoring (OPTIONAL)
# ----------------------------------------------------------------------------

# Sentry DSN for error tracking (opt-in, user consent required)
# Get from: https://sentry.io/settings/projects/YOUR_PROJECT/keys/
# Default: disabled
# VITE_SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# ----------------------------------------------------------------------------
# Development Overrides (OPTIONAL - for debugging)
# ----------------------------------------------------------------------------

# Enable verbose logging in console
# Default: false
# VITE_DEBUG_MODE=true

# Disable Chrome AI and always use fallback (for testing)
# Default: false
# VITE_FORCE_FALLBACK_AI=true

# Mock API responses (for offline development)
# Default: false
# VITE_MOCK_API=true

# ============================================================================
# End of Configuration
# ============================================================================
#
# After filling in your values, save this as .env.local
# Then restart the dev server: pnpm dev
#
# For troubleshooting, see: apps/extension/README.md#troubleshooting
# ============================================================================
